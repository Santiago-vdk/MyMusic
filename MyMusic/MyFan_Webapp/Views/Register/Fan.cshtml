@model MyFan_Webapp.Models.Views.Form
@{
    Layout = null;
}

<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- jQuery -->
    <script src="~/assets/lib/jquery/jquery-2.2.4.min.js" type="text/javascript"></script>
    <!-- Bootstrap -->
    <link crossorigin="anonymous" href="~/assets/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="~/assets/lib/bootstrap/js/bootstrap.min.js"></script>
    <!-- Style -->
    <link href="~/assets/common/css/MainStyle.css" rel="stylesheet" type="text/css">
    <link href="~/assets/common/css/registerStyle.css" rel="stylesheet" type="text/css">
    <!-- Font -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,300' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Bree+Serif' rel='stylesheet' type='text/css'>
    <!-- Bootstrap Select -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/css/bootstrap-select.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/js/bootstrap-select.min.js"></script>

    <title>MyFan</title>

    <script>
        function FormModel() {
            var self = this;
            self.inputUsername = $("#inputUsername").val();
            self.inputPassword = $("#inputPassword").val();
            self.inputConfirmPassword = $("#inputConfirmPassword").val();
            self.inputName = $("#inputName").val();
            self.inputBirthday = $("#inputBirthday").val();
            self.selectGender = parseInt($("#selectGender :selected").attr('id'));
            self.selectCountry = parseInt($("#selectCountry :selected").attr('id'));

            var selectedGenres = [];
            $('#selectGenres :selected').each(function (i, selected) {
                selectedGenres[i] = parseInt($(selected).attr('id'));
            });

            self.selectGenres = selectedGenres;

        }

        $(document).ready(function () {
            $('#submit').click(function () {

                var request = new FormModel();
                alert(request);
                $.ajax({
                    url: "RegisterFan",
                    dataType: 'json',
                    contentType: 'application/json',
                    type: "POST",
                    data: JSON.stringify(request),
                    success: function (response) {
                        alert("sirvio");
                    }
                });

            });

        });

    </script>
</head>

<body>
    <div class="container">
        <div class="col-xs-6 col-xs-offset-3">

             <form action="" method="post" role="form" class='form-horizontal'>
                <h1>Register Fan</h1>
                <br>
                <div class="form-group">
                    <div class="col-xs-3 text-right">
                        <label for="inputUsername">Username</label>
                    </div>
                    <div class="col-xs-9">
                        <input type="text" class="form-control" placeholder="Username" id="inputUsername" required/>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-xs-3 text-right">
                        <label for="inputPassword">Password</label>
                    </div>
                    <div class="col-xs-9">
                        <input type="password" class="form-control" placeholder="Password" id="inputPassword" />
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-xs-3 text-right">
                        <label for="inputConfirmPassword">Confirm Password</label>
                    </div>
                    <div class="col-xs-9">
                        <input type="password" class="form-control" placeholder="Confirm Password" id="inputConfirmPassword" />
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-xs-3 text-right">
                        <label for="inputName">Name</label>
                    </div>
                    <div class="col-xs-9">
                        <input type="text" class="form-control" placeholder="Name" id="inputName" />
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-xs-3 text-right">
                        <label for="inputBirthday">Birthday</label>
                    </div>
                    <div class="col-xs-9">
                        <input type="date" id="inputBirthday">
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-xs-3 text-right">
                        <label for="selectGenre">Gender</label>
                    </div>
                    <div class="col-xs-9">
                        <select class="selectpicker" id="selectGender" data-width="100%">
        
                            @foreach (var gender in Model.genders)
                            {
                                <option id="@gender.Id">@gender.Name</option>
                            }
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-xs-3 text-right">
                        <label for="selectCountry">Country</label>
                    </div>
                    <div class="col-xs-9">
                        <select class="selectpicker" data-live-search="true" id="selectCountry" data-width="100%">
                            @foreach (var country in Model.locations)
                            {
                                <option id="@country.Id" data-tokens="@country.Name">@country.Name</option>
                            }
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-xs-3 text-right">
                        <label for="selectMusicalGenre">Musical Genres</label>
                    </div>
                    <div class="col-xs-9">
                        <select class="selectpicker" data-live-search="true" id="selectGenres" title="Choose five musical genres" multiple data-max-options="5" data-width="100%">
                            @foreach (var genre in Model.genres)
                            {
                                <option id="@genre.Id" data-tokens="@genre.Name">@genre.Name</option>
                            }
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-xs-3 text-right">
                        <label for="selectTerms">Accept terms</label>
                    </div>
                    <div class="col-xs-9">
                        <input type="checkbox" id="accept" value="Accept"> I accept the terms and conditions
                        <br>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-xs-offset-4 col-xs-3">
                            <button id="submit" class="btn btn-success">Submit</button>
                        </div>
                        <div class="col-xs-3">
                            <a href="~/" class="btn btn-danger">Cancel</a>
                        </div>
                    </div>
                </div>
            </form>

            
        </div>
    </div>
    <!-- /container -->
</body>

</html>
